{"ast":null,"code":"import _regeneratorRuntime from \"/Users/grantpauljoslyn/Github_Josly025/Watercooler/watercooler/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/grantpauljoslyn/Github_Josly025/Watercooler/watercooler/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/grantpauljoslyn/Github_Josly025/Watercooler/watercooler/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/grantpauljoslyn/Github_Josly025/Watercooler/watercooler/client/src/providers/UserProvider.jsx\";\n\nimport React, { Component, createContext, useState, useEffect } from \"react\";\nimport { auth, generateUserDocument } from \"../firebase\";\nexport var UserContext = createContext({\n  user: null\n});\n\nvar UserProvider = function UserProvider(props) {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  useEffect(function () {\n    _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              auth.onAuthStateChanged( /*#__PURE__*/function () {\n                var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(userAuth) {\n                  var user;\n                  return _regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          _context.next = 2;\n                          return generateUserDocument(userAuth);\n\n                        case 2:\n                          user = _context.sent;\n                          setUser({\n                            user\n                          });\n\n                        case 4:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                }));\n\n                return function (_x) {\n                  return _ref2.apply(this, arguments);\n                };\n              }());\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }))();\n  }, []);\n  return /*#__PURE__*/React.createElement(UserContext.Provider, {\n    value: {\n      user,\n      setUser\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 5\n    }\n  }, props.children);\n}; // class UserProvider extends Component {\n//     state = {\n//         user: null,\n//         fromDashboard: null\n//     };\n//     componentDidMount = async () => {\n//         auth.onAuthStateChanged(async userAuth => {\n//             const user = await generateUserDocument(userAuth);\n//             this.setState({ user });\n//         });\n//     };\n//     render() {\n//         return (\n//             <UserContext.Provider value={this.state}>\n//                 {this.props.children}\n//             </UserContext.Provider>\n//         );\n//     };\n// };\n\n\nexport default UserProvider;","map":{"version":3,"sources":["/Users/grantpauljoslyn/Github_Josly025/Watercooler/watercooler/client/src/providers/UserProvider.jsx"],"names":["React","Component","createContext","useState","useEffect","auth","generateUserDocument","UserContext","user","UserProvider","props","setUser","onAuthStateChanged","userAuth","children"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,aAA3B,EAA0CC,QAA1C,EAAoDC,SAApD,QAAqE,OAArE;AACA,SAASC,IAAT,EAAeC,oBAAf,QAA2C,aAA3C;AAEA,OAAO,IAAMC,WAAW,GAAGL,aAAa,CAAC;AAAEM,EAAAA,IAAI,EAAE;AAAR,CAAD,CAAjC;;AAEP,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAW;AAAA,kBACNP,QAAQ,CAAC,IAAD,CADF;AAAA;AAAA,MACvBK,IADuB;AAAA,MACjBG,OADiB;;AAE9BP,EAAAA,SAAS,CAAC,YAAM;AACd,6DAAC;AAAA;AAAA;AAAA;AAAA;AACCC,cAAAA,IAAI,CAACO,kBAAL;AAAA,qFAAwB,iBAAOC,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCACHP,oBAAoB,CAACO,QAAD,CADjB;;AAAA;AAChBL,0BAAAA,IADgB;AAEtBG,0BAAAA,OAAO,CAAC;AAAEH,4BAAAA;AAAF,2BAAD,CAAP;;AAFsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAxB;;AAAA;AAAA;AAAA;AAAA;;AADD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD;AAMD,GAPQ,EAON,EAPM,CAAT;AAQA,sBACE,oBAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AAAEA,MAAAA,IAAF;AAAQG,MAAAA;AAAR,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGD,KAAK,CAACI,QADT,CADF;AAKD,CAfD,C,CAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,eAAeL,YAAf","sourcesContent":["import React, { Component, createContext, useState, useEffect } from \"react\";\nimport { auth, generateUserDocument } from \"../firebase\";\n\nexport const UserContext = createContext({ user: null });\n\nconst UserProvider = (props) => {\n  const [user, setUser] = useState(null);\n  useEffect(() => {\n    (async () => {\n      auth.onAuthStateChanged(async (userAuth) => {\n        const user = await generateUserDocument(userAuth);\n        setUser({ user });\n      });\n    })();\n  }, []);\n  return (\n    <UserContext.Provider value={{ user, setUser }}>\n      {props.children}\n    </UserContext.Provider>\n  );\n};\n\n// class UserProvider extends Component {\n//     state = {\n//         user: null,\n//         fromDashboard: null\n//     };\n//     componentDidMount = async () => {\n//         auth.onAuthStateChanged(async userAuth => {\n//             const user = await generateUserDocument(userAuth);\n//             this.setState({ user });\n//         });\n//     };\n\n//     render() {\n//         return (\n//             <UserContext.Provider value={this.state}>\n//                 {this.props.children}\n//             </UserContext.Provider>\n//         );\n//     };\n// };\nexport default UserProvider;\n"]},"metadata":{},"sourceType":"module"}